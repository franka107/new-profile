<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="57x57" href="/isotype.png"/><link rel="apple-touch-icon" sizes="60x60" href="/isotype.png"/><link rel="apple-touch-icon" sizes="72x72" href="/isotype.png"/><link rel="apple-touch-icon" sizes="76x76" href="/isotype.png"/><link rel="apple-touch-icon" sizes="114x114" href="/isotype.png"/><link rel="apple-touch-icon" sizes="120x120" href="/isotype.png"/><link rel="apple-touch-icon" sizes="144x144" href="/isotype.png"/><link rel="apple-touch-icon" sizes="152x152" href="/isotype.png"/><link rel="apple-touch-icon" sizes="180x180" href="/isotype.png"/><link rel="icon" type="image/png" sizes="192x192" href="/isotype.png"/><link rel="icon" type="image/png" sizes="32x32" href="/isotype.png"/><link rel="icon" type="image/png" sizes="96x96" href="/isotype.png"/><link rel="icon" type="image/png" sizes="16x16" href="/isotype.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/isotype.png"/><meta name="theme-color" content="#ffffff"/><title>When to traverse an object graph</title><link rel="preload" href="/new-profile/_next/static/css/8e1df1737e67450786cc.css" as="style"/><link rel="stylesheet" href="/new-profile/_next/static/css/8e1df1737e67450786cc.css" data-n-g=""/><link rel="preload" href="/new-profile/_next/static/css/bc9bbcd6fea02b72560a.css" as="style"/><link rel="stylesheet" href="/new-profile/_next/static/css/bc9bbcd6fea02b72560a.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/new-profile/_next/static/chunks/main-5ab6ea82c9087f336e12.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/webpack-38f4ef47162466e52626.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/framework.7008427c9ed7ea1ea070.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/1ca0266d.bc7564fa166f0d34b14f.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/commons.c903b9c5c3d275f65bfc.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/74dccfed65656dfb6adb258ae839e136f67e0276.47b8922ced02d1ddaa2f.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/2412aec2c30a40454afb28aa7ad51596c664a3e6.1e80e1ab8448746fa0db.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/pages/_app-52d859afcfe46e563952.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/57c9d6e4b97e6bcf244aee8ce3648d5d9adaacb1.bfcec4d669b9affd02e0.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/798fd9b41a459e61ee4594ce38d25c96f259064c.8c8bea5984a65dd9a41b.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/pages/blog/when-to-traverse-an-object-graph-b6c32234cafb5adccb77.js" as="script"/></head><body><div id="__next"><div class="flex flex-col min-h-screen font-sans text-base antialiased text-gray-800"><header class="px-6"><div class="pt-4 mx-auto max-w-7xl md:pt-6 xl:pt-8"><div class="flex justify-between pb-4 md:pb-0 md:border-b md:border-gray-200 md:justify-start"><a class="text-sm font-light tracking-wide uppercase md:text-base lg:text-xl" href="/"><span class="font-bold">Frank</span>Cary</a><button class="p-2 -m-2 text-gray-700 focus:outline-none md:hidden"><svg fill="currentColor" viewBox="0 0 20 20" class="block w-4 h-4"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg></button><div class="items-center hidden ml-auto md:flex"><a class="pb-4 ml-6 -mb-px text-gray-600 border-b border-transparent xl:pb-6 lg:ml-8 lg:text-base xl:text-lg hover:text-gray-900" href="/projects">Projects</a><a class="pb-4 ml-6 -mb-px text-gray-600 border-b border-transparent xl:pb-6 lg:ml-8 lg:text-base xl:text-lg hover:text-gray-900" href="/podcast">Podcast</a><a class="pb-4 ml-6 -mb-px text-gray-600 border-b border-transparent xl:pb-6 lg:ml-8 lg:text-base xl:text-lg hover:text-gray-900" href="/contact">Contact</a></div></div><div class="md:hidden"></div></div></header><main class="flex flex-col flex-1"><div class="px-6 pt-6 md:pt-12 lg:pt-16 md:leading-relaxed md:text-lg- lg:text-lg"><div class="max-w-measure mx-auto"><article><div class="mb-8 md:mb-10"><h1 class="mt-8 text-3xl font-semibold leading-tight md:text-4xl lg:text-4-5xl">When to traverse an object graph</h1></div><p class="mt-4 lg:mt-6">I&#x27;ve been refactoring a .NET app for the past several weeks. It&#x27;s my first time really digging into a desktop app, and the architectural similarities with Javascript applications are surprising. Each type of app, being long-lived, requires management of a UI that is typically nested, which in turn raises some interesting questions regarding object responsibility.</p><p class="mt-4 lg:mt-6">One &#x27;rule&#x27; I&#x27;ve found many Javascripters agree on is that child UI elements should never reach into their parents. So, a UserCollectionView object may render a <code class="px-1 py-px text-sm bg-gray-100">&lt;ul&gt;</code>, and many UserView objects would render their own <code class="px-1 py-px text-sm bg-gray-100">&lt;li&gt;</code> elements; but an individual UserView would never reach into the parent collection to, let&#x27;s say, check whether another user was currently selected. That&#x27;s probably a code smell, pointing to the need for a <code class="px-1 py-px text-sm bg-gray-100">selectedUser</code> property on the collection.</p><p class="mt-4 lg:mt-6">So, from my time building front ends in both Javascript and .NET, I&#x27;ve developed an instinct for not reaching into parent objects. Recently, though, I&#x27;ve been working on some back-end code with a fairly complex object graph, and many times I&#x27;ve found it appropriate to reach from child objects into their parents. For example, say I have a business contract, and I need to know what the previous contract was, in order to calculate a fee change. To me, it seems completely appropriate to reach into the parent company, look for the latest contract before this one, and get some data from it. A contract should know its own fee change. However, each time I&#x27;ve deemed it appropriate, I&#x27;ve also had to fight a visceral urge to stop myself.</p><p class="mt-4 lg:mt-6">So, what&#x27;s going on here? Even if you disagree with me in this particular case, what are some of the general &#x27;rules&#x27; that guide this kind of reaching across object relationships? Do the responsibilities for objects in parent-child relationships change so drastically when those objects belong to a GUI, rather than a business domain? What rules apply to <em>all</em> objects in parent-child relationships? Are there rules more specific than looking out for <a class="text-blue-500 underline" href="http://sourcemaking.com/refactoring/feature-envy">feature envy</a> in our objects?</p><p class="mt-4 lg:mt-6">I welcome your thoughts.</p></article><p class="pt-8 text-sm font-medium text-right text-gray-500 md:mt-1">January 9, 2014</p><hr class="mt-10"/><div class="mt-10"><div><a class="block w-16 h-16 mx-auto overflow-hidden rounded-full" href="/"><div style="max-width:100%;width:985px"><div style="position:relative;padding-bottom:100%"><img data-src="/_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=1024&amp;q=75" data-srcset="/_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=320&amp;q=75 320w, /_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=420&amp;q=75 420w, /_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=768&amp;q=75 768w, /_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=1024&amp;q=75 1024w" class="__lazy" style="visibility:hidden;height:100%;left:0;position:absolute;top:0;width:100%"/></div></div></a></div><div class="mt-2 leading-none text-center"><p class="pt-2 text-xs font-semibold tracking-wider text-gray-600 uppercase">Written by</p><p class="pt-2 text-xl font-semibold"><a href="/">Sam Selikoff</a></p></div></div><div class="pb-24 mt-8 text-center"><a class="font-medium text-blue-500" href="/blog">‚Üê View all posts</a></div></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/when-to-traverse-an-object-graph","query":{},"buildId":"4qClNvysg-DiC_9Y4aaxt","assetPrefix":"/new-profile","nextExport":true,"autoExport":true,"isFallback":false,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["link",{"rel":"apple-touch-icon","sizes":"57x57","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"60x60","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"72x72","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"76x76","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"114x114","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"120x120","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"144x144","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"152x152","href":"/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"180x180","href":"/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"192x192","href":"/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"32x32","href":"/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"96x96","href":"/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"16x16","href":"/isotype.png"}],["link",{"rel":"manifest","href":"/manifest.json"}],["meta",{"name":"msapplication-TileColor","content":"#ffffff"}],["meta",{"name":"msapplication-TileImage","content":"/isotype.png"}],["meta",{"name":"theme-color","content":"#ffffff"}],["title",{"children":"When to traverse an object graph"}]]}</script><script nomodule="" src="/new-profile/_next/static/chunks/polyfills-f9ac226678fc858257de.js"></script><script src="/new-profile/_next/static/chunks/main-5ab6ea82c9087f336e12.js" async=""></script><script src="/new-profile/_next/static/chunks/webpack-38f4ef47162466e52626.js" async=""></script><script src="/new-profile/_next/static/chunks/framework.7008427c9ed7ea1ea070.js" async=""></script><script src="/new-profile/_next/static/chunks/1ca0266d.bc7564fa166f0d34b14f.js" async=""></script><script src="/new-profile/_next/static/chunks/commons.c903b9c5c3d275f65bfc.js" async=""></script><script src="/new-profile/_next/static/chunks/74dccfed65656dfb6adb258ae839e136f67e0276.47b8922ced02d1ddaa2f.js" async=""></script><script src="/new-profile/_next/static/chunks/2412aec2c30a40454afb28aa7ad51596c664a3e6.1e80e1ab8448746fa0db.js" async=""></script><script src="/new-profile/_next/static/chunks/pages/_app-52d859afcfe46e563952.js" async=""></script><script src="/new-profile/_next/static/chunks/57c9d6e4b97e6bcf244aee8ce3648d5d9adaacb1.bfcec4d669b9affd02e0.js" async=""></script><script src="/new-profile/_next/static/chunks/798fd9b41a459e61ee4594ce38d25c96f259064c.8c8bea5984a65dd9a41b.js" async=""></script><script src="/new-profile/_next/static/chunks/pages/blog/when-to-traverse-an-object-graph-b6c32234cafb5adccb77.js" async=""></script><script src="/new-profile/_next/static/4qClNvysg-DiC_9Y4aaxt/_buildManifest.js" async=""></script><script src="/new-profile/_next/static/4qClNvysg-DiC_9Y4aaxt/_ssgManifest.js" async=""></script></body></html>