<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="57x57" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="60x60" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="72x72" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="76x76" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="114x114" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="120x120" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="144x144" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="152x152" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="icon" type="image/png" sizes="192x192" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="icon" type="image/png" sizes="96x96" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"/><meta name="theme-color" content="#ffffff"/><title>HTTPS in a nutshell</title><link rel="preload" href="/new-profile/_next/static/css/8e1df1737e67450786cc.css" as="style"/><link rel="stylesheet" href="/new-profile/_next/static/css/8e1df1737e67450786cc.css" data-n-g=""/><link rel="preload" href="/new-profile/_next/static/css/bc9bbcd6fea02b72560a.css" as="style"/><link rel="stylesheet" href="/new-profile/_next/static/css/bc9bbcd6fea02b72560a.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/new-profile/_next/static/chunks/main-5ab6ea82c9087f336e12.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/webpack-38f4ef47162466e52626.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/framework.7008427c9ed7ea1ea070.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/1ca0266d.bc7564fa166f0d34b14f.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/commons.c903b9c5c3d275f65bfc.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/74dccfed65656dfb6adb258ae839e136f67e0276.82c58655d5f4f7af0bf3.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/2412aec2c30a40454afb28aa7ad51596c664a3e6.1e80e1ab8448746fa0db.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/pages/_app-3f00c45ba3d6396804fc.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/57c9d6e4b97e6bcf244aee8ce3648d5d9adaacb1.bfcec4d669b9affd02e0.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/798fd9b41a459e61ee4594ce38d25c96f259064c.8c8bea5984a65dd9a41b.js" as="script"/><link rel="preload" href="/new-profile/_next/static/chunks/pages/blog/https-in-a-nutshell-965d9cdde4ac285eee15.js" as="script"/></head><body><div id="__next"><div class="flex flex-col min-h-screen font-sans text-base antialiased text-gray-800"><header class="px-6"><div class="pt-4 mx-auto max-w-7xl md:pt-6 xl:pt-8"><div class="flex justify-between pb-4 md:pb-0 md:border-b md:border-gray-200 md:justify-start"><a class="text-sm font-light tracking-wide uppercase md:text-base lg:text-xl" href="/new-profile"><span class="font-bold">Frank</span>Cary</a><button class="p-2 -m-2 text-gray-700 focus:outline-none md:hidden"><svg fill="currentColor" viewBox="0 0 20 20" class="block w-4 h-4"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg></button><div class="items-center hidden ml-auto md:flex"><a class="pb-4 ml-6 -mb-px text-gray-600 border-b border-transparent xl:pb-6 lg:ml-8 lg:text-base xl:text-lg hover:text-gray-900" href="/new-profile/projects">Projects</a><a class="pb-4 ml-6 -mb-px text-gray-600 border-b border-transparent xl:pb-6 lg:ml-8 lg:text-base xl:text-lg hover:text-gray-900" href="/new-profile/contact">Contact</a></div></div><div class="md:hidden"></div></div></header><main class="flex flex-col flex-1"><div class="px-6 pt-6 md:pt-12 lg:pt-16 md:leading-relaxed md:text-lg- lg:text-lg"><div class="max-w-measure mx-auto"><article><div class="mb-8 md:mb-10"><h1 class="mt-8 text-3xl font-semibold leading-tight md:text-4xl lg:text-4-5xl">HTTPS in a nutshell</h1></div><p class="mt-4 lg:mt-6">I knew very little about HTTPS, so I read <a class="text-blue-500 underline" href="http://www.objc.io/issue-10/ip-tcp-http.html">this article</a>. Here&#x27;s my summary.</p><p class="mt-4 lg:mt-6">I&#x27;ll assume that you&#x27;re familiar with HTTP requests at a high level, but don&#x27;t know much about the other Internet protocols, or what puts the S in HTTPS.</p><h2 id="what-is-https" class="pt-20 mt-8 text-lg font-semibold leading-tight text-gray-900 border-t border-gray-200 md:text-2xl">What is HTTPS?</h2><p class="mt-4 lg:mt-6">HTTPS is a <em>protocol</em>, which is a set of rules that governs data transfer. The various internet protocols are built on top of each other:</p><ul class="pl-6 mt-4 list-disc lg:mt-6"><li class="mt-2">HTTPS (HTTP over TLS)</li><li class="mt-2">HTTP</li><li class="mt-2">TLS</li><li class="mt-2">TCP</li><li class="mt-2">IP</li></ul><p class="mt-4 lg:mt-6">Each protocol exists to improve the layer beneath it in some way. Understanding each protocol is useful for understanding the benefits that HTTPS provides.</p><p class="mt-4 lg:mt-6"><em>IP</em> stands for Internet Protocol, and it is the primary mechanism for all data transfer on the Internet. IP transfers data in chunks called <em>packets</em> from a <em>source</em> to a <em>destination</em>. Somewhat surprisingly, it makes little guarantees about each packet it sends. In fact, when a source sends a packet, the destination could receive that packet once, twice (i.e. receive a duplicate), or not at all.</p><p class="mt-4 lg:mt-6"><em>TCP</em> stands for Transmission Control Protocol, and it&#x27;s built on top of IP - you&#x27;ll often see the pair referenced as TCP/IP. It was designed to be reliable: packets sent over TCP (between <em>hosts</em>) are guaranteed to be delivered once, and in order. But if TCP uses IP under the hood, how can it make these guarantees?</p><h2 id="how-tcp-works" class="pt-20 mt-8 text-lg font-semibold leading-tight text-gray-900 border-t border-gray-200 md:text-2xl">How TCP works</h2><p class="mt-4 lg:mt-6">First, in order for a TCP connection to be established, a <em>handshake</em> is required. To understand what a handshake is, consider an analogy. Let&#x27;s say your phone rings, and you answer:</p><blockquote class="pl-4 italic border-l-4 border-gray-200"><p class="mt-4 lg:mt-6">&quot;Hello?&quot;</p></blockquote><p class="mt-4 lg:mt-6">At this point, you don&#x27;t know anything about the caller - it could be a person, it could be a machine, it could be no one. You&#x27;re just attempting to make contact.</p><p class="mt-4 lg:mt-6">Say the caller responds:</p><blockquote class="pl-4 italic border-l-4 border-gray-200"><p class="mt-4 lg:mt-6">&quot;Hi, this is Susan. How are you?&quot;</p></blockquote><p class="mt-4 lg:mt-6">Now we know that you&#x27;ve heard Susan&#x27;s voice, and we know that Susan has heard your voice (since she acknowledged your greeting by responding in kind). However, <em>Susan</em> still doesn&#x27;t know whether or not you&#x27;ve heard <em>her</em> voice. Once you respond</p><blockquote class="pl-4 italic border-l-4 border-gray-200"><p class="mt-4 lg:mt-6">&quot;Fine, thanks&quot;</p></blockquote><p class="mt-4 lg:mt-6">we could say that a connection has been established: both parties have acknowledged communication with each other, and the conversation can proceed.</p><p class="mt-4 lg:mt-6">This is essentially what a TCP handshake is. One host - say, a <em>client</em> - sends a message with a random number to another host - a <em>server</em>. The server acknowledges receipt of the message by responding with the random number that was sent, incremented by 1. Additionally, it sends over a new random number of its own. Once the client responds back with <em>that</em> number incremented by 1, the connection is established. This is known as a <em>three-way handshake</em>:</p><ol class="pl-6 mt-4 list-decimal lg:mt-6"><li class="mt-2">SYN</li><li class="mt-2">SYN-ACK</li><li class="mt-2">ACK</li></ol><p class="mt-4 lg:mt-6">where <strong>SYN</strong> stands for <em>synchronize sequence numbers</em> (sending a message with a random number), and <strong>ACK</strong> stands for <em>acknowledgment</em>.</p><p class="mt-4 lg:mt-6">Once a connection is established, data transfer can begin. <em>Segments</em> of data are transferred from server to client, and each segment contains a reference to how many bytes have already been transferred. As the client receives more data, it acknowledges the total transferred amount with the appropriate ACK response. TCP&#x27;s retry algorithms handle network issues such as congestion and dropped or duplicated packets, to ensure the data transfer happens smoothly.</p><p class="mt-4 lg:mt-6">In short, TCP is able to improve upon the unreliable IP layer by sending <em>acknowledged data</em> over an <em>established connection</em>.</p><h2 id="the-web-security-and-tls" class="pt-20 mt-8 text-lg font-semibold leading-tight text-gray-900 border-t border-gray-200 md:text-2xl">The web, security and TLS</h2><p class="mt-4 lg:mt-6"><em>HTTP</em> stands for Hypertext Transfer Protocol, and it&#x27;s built on top of TCP. Its transfer model is quite simple: a client makes a single request to a server, and the server sends back a single response. The web as we know it runs on HTTP: typing <code class="px-1 py-px text-sm bg-gray-100">www.facebook.com</code> into your address bar sends an HTTP request to Facebook&#x27;s servers, and the web site you view and interact with is the server&#x27;s response.</p><p class="mt-4 lg:mt-6">Because HTTP runs on top of TCP, new browser sessions must first establish a TCP connection before receiving any data. This involves the three-way handshake described in the previous section. Once the session is established, data transfer can begin between the client and server.</p><p class="mt-4 lg:mt-6">As the web integrates more and more with every aspect of our lives, a strong security model has become desirable. Using HTTP over a TCP connection is <em>insecure</em>, and it&#x27;s easy to see why. Think back to the analogy of the phone call. After you had established contact with Susan, you both acknowledged that you were receiving each other&#x27;s messages. But how did you know for sure you were speaking with Susan, rather than someone just pretending to be Susan? Also, if someone else had tapped the phone line, they&#x27;d be able to listen in on your conversation.</p><p class="mt-4 lg:mt-6"><em>TLS</em> stands for Transport Layer Security, and it&#x27;s a cryptographic layer that sits on top of TCP. It solves both of these problems by verifying the identity of hosts, and encrypting the messages they transfer. Establishing a TLS connection involves an additional three-way handshake that executes after TCP&#x27;s initial handshake. Once a TLS connection is established, HTTP requests and responses are made to known, trusted hosts, and HTTP message bodies are encrypted. This is known as HTTP Secure, or HTTPS.</p><p class="mt-4 lg:mt-6">Thus, HTTPS improves upon the security of HTTP by sending <em>encrypted data</em> over a <em>verified connection</em>.</p><h2 id="latency" class="pt-20 mt-8 text-lg font-semibold leading-tight text-gray-900 border-t border-gray-200 md:text-2xl">Latency</h2><p class="mt-4 lg:mt-6">One final interesting bit from the article was how the TCP and TLS handshakes affect page load time. When initializing a new session with a server, the three-step TCP handshake can potentially take 750ms or more, depending on the user&#x27;s latency. Since a TLS connection requires an additional three-step handshake, simply adding HTTPS to your site can mean users on low-latency connections (such as mobile devices) could wait 1.5 seconds before your server can even begin sending data.</p><hr class="mt-4 border-gray-200 lg:mt-6"/><p class="mt-4 lg:mt-6">I hope you have a better idea of what HTTPS is, and how drastistically it can improve your site&#x27;s security! If you&#x27;d like to learn more, I recommend <a class="text-blue-500 underline" href="http://www.objc.io/issue-10/ip-tcp-http.html">this thorough, well-written article</a> by <a class="text-blue-500 underline" href="https://twitter.com/danielboedewadt">@danielboedewadt</a>.</p></article><p class="pt-8 text-sm font-medium text-right text-gray-500 md:mt-1">May 2, 2015</p><hr class="mt-10"/><div class="mt-10"><div><a class="block w-16 h-16 mx-auto overflow-hidden rounded-full" href="/new-profile"><div style="max-width:100%;width:985px"><div style="position:relative;padding-bottom:100%"><img data-src="/_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=1024&amp;q=75" data-srcset="/_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=320&amp;q=75 320w, /_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=420&amp;q=75 420w, /_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=768&amp;q=75 768w, /_next/image?url=%2Fimages%2Fprofile.jpeg&amp;w=1024&amp;q=75 1024w" class="__lazy" style="visibility:hidden;height:100%;left:0;position:absolute;top:0;width:100%"/></div></div></a></div><div class="mt-2 leading-none text-center"><p class="pt-2 text-xs font-semibold tracking-wider text-gray-600 uppercase">Written by</p><p class="pt-2 text-xl font-semibold"><a href="/new-profile">Sam Selikoff</a></p></div></div><div class="pb-24 mt-8 text-center"><a class="font-medium text-blue-500" href="/new-profile/blog">← View all posts</a></div></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/https-in-a-nutshell","query":{},"buildId":"ys9M8kH2ifN7RecEwK3a6","assetPrefix":"/new-profile","nextExport":true,"autoExport":true,"isFallback":false,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["link",{"rel":"apple-touch-icon","sizes":"57x57","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"60x60","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"72x72","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"76x76","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"114x114","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"120x120","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"144x144","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"152x152","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"apple-touch-icon","sizes":"180x180","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"192x192","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"32x32","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"96x96","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"icon","type":"image/png","sizes":"16x16","href":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["link",{"rel":"manifest","href":"/manifest.json"}],["meta",{"name":"msapplication-TileColor","content":"#ffffff"}],["meta",{"name":"msapplication-TileImage","content":"https://raw.githubusercontent.com/franka107/new-profile/master/public/isotype.png"}],["meta",{"name":"theme-color","content":"#ffffff"}],["title",{"children":"HTTPS in a nutshell"}]]}</script><script nomodule="" src="/new-profile/_next/static/chunks/polyfills-f9ac226678fc858257de.js"></script><script src="/new-profile/_next/static/chunks/main-5ab6ea82c9087f336e12.js" async=""></script><script src="/new-profile/_next/static/chunks/webpack-38f4ef47162466e52626.js" async=""></script><script src="/new-profile/_next/static/chunks/framework.7008427c9ed7ea1ea070.js" async=""></script><script src="/new-profile/_next/static/chunks/1ca0266d.bc7564fa166f0d34b14f.js" async=""></script><script src="/new-profile/_next/static/chunks/commons.c903b9c5c3d275f65bfc.js" async=""></script><script src="/new-profile/_next/static/chunks/74dccfed65656dfb6adb258ae839e136f67e0276.82c58655d5f4f7af0bf3.js" async=""></script><script src="/new-profile/_next/static/chunks/2412aec2c30a40454afb28aa7ad51596c664a3e6.1e80e1ab8448746fa0db.js" async=""></script><script src="/new-profile/_next/static/chunks/pages/_app-3f00c45ba3d6396804fc.js" async=""></script><script src="/new-profile/_next/static/chunks/57c9d6e4b97e6bcf244aee8ce3648d5d9adaacb1.bfcec4d669b9affd02e0.js" async=""></script><script src="/new-profile/_next/static/chunks/798fd9b41a459e61ee4594ce38d25c96f259064c.8c8bea5984a65dd9a41b.js" async=""></script><script src="/new-profile/_next/static/chunks/pages/blog/https-in-a-nutshell-965d9cdde4ac285eee15.js" async=""></script><script src="/new-profile/_next/static/ys9M8kH2ifN7RecEwK3a6/_buildManifest.js" async=""></script><script src="/new-profile/_next/static/ys9M8kH2ifN7RecEwK3a6/_ssgManifest.js" async=""></script></body></html>