_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{"2tu/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/work-journal-admin",function(){return n("9ERB")}])},"8oxB":function(e,t){var n,r,s=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var o,l=[],u=!1,d=-1;function m(){u&&o&&(u=!1,o.length?l=o.concat(l):d=-1,l.length&&b())}function b(){if(!u){var e=c(m);u=!0;for(var t=l.length;t;){for(o=l,l=[];++d<t;)o&&o[d].run();d=-1,t=l.length}o=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function j(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new j(e,t)),1!==l.length||u||c(b)},j.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},"9ERB":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r,s=n("o0o1"),i=n.n(s),a=n("HaE+"),c=n("rePB"),o=n("nKUr"),l=n("3Ttg"),u=n("q1tI"),d=n("Jgta"),m=n("sWYD"),b=n("KYPV");n("Zs65"),n("6nsN");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f={apiKey:"AIzaSyAXX4G4xSLAwfIgR8vOsgYQOq9or0Jmmyo",authDomain:"test-3fb7f.firebaseapp.com",databaseURL:"https://test-3fb7f.firebaseio.com",projectId:"test-3fb7f",storageBucket:"test-3fb7f.appspot.com",messagingSenderId:"197704559138",appId:"1:197704559138:web:f373ec99c0218a774ff87b",measurementId:"G-HP7G1FS9FN"};function h(){var e=Object(u.useState)(),t=e[0],n=e[1];return Object(u.useEffect)((function(){var e=(r=d.a.apps.length?d.a.app():d.a.initializeApp(f)).database().ref("/work-journal-entries");return e.on("value",(function(e){var t=e.val(),r=Object.keys(t).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e},t[e])})).sort((function(e,t){return e.date>t.date?"-1":"1"}));n(r)})),function(){e.off("value")}}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l.c,{children:Object(o.jsx)("title",{children:"Work journal"})}),Object(o.jsx)("div",{className:"md:text-lg-",children:Object(o.jsxs)(l.b,{size:"some",children:[Object(o.jsx)(l.f,{size:"xl"}),Object(o.jsx)(l.g,{children:"Work journal"}),Object(o.jsx)(l.f,{size:"lg"}),Object(o.jsx)(l.d,{children:"Admin"}),Object(o.jsx)(l.f,{size:"lg"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"text-sm italic font-medium text-gray-500 uppercase",children:"New entry"}),Object(o.jsx)(x,{})]}),Object(o.jsx)(l.f,{size:"lg"}),Object(o.jsx)("div",{className:"border-t-4 border-gray-800 border-double"}),t?Object(o.jsx)("ul",{className:"divide-y divide-cool-gray-200",children:t.map((function(e){return Object(o.jsx)("div",{className:"py-4",children:Object(o.jsx)(p,{entry:e})},e.id)}))}):Object(o.jsx)("p",{children:"Loading..."})]})})]})}function x(){var e={date:Object(m.a)(new Date,"yyyy-MM-dd"),text:"",category:"work",href:""};function t(){return(t=Object(a.a)(i.a.mark((function e(t,n){var s,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.resetForm,a=r.database(),c=a.ref().child("work-journal-entries").push().key,e.next=5,a.ref("work-journal-entries/".concat(c)).set(t);case 5:return e.next=7,new Promise((function(e){return setTimeout(e)}));case 7:s({values:{date:t.date,text:"",href:"",category:t.category}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsx)(g,{initialValues:e,onSubmit:function(e,n){return t.apply(this,arguments)},children:function(e){var t=e.isSubmitting;return Object(o.jsx)("div",{className:"pt-5",children:Object(o.jsx)("div",{className:"flex justify-end",children:Object(o.jsx)("span",{className:"inline-flex rounded-md shadow-sm",children:Object(o.jsxs)("button",{type:"submit",disabled:t,className:"".concat(t?"pointer-events-none opacity-75":"hover:bg-blue-400 opacity-100"," relative flex items-center justify-center px-4 py-2 text-sm font-medium leading-5 text-white transition duration-150 ease-in-out bg-blue-500 border border-transparent rounded-md  focus:outline-none focus:border-blue-600 focus:shadow-outline-blue active:bg-blue-600"),children:[Object(o.jsx)("span",{className:"".concat(t?"":"invisible"," absolute inset-0 flex items-center justify-center"),children:Object(o.jsxs)("svg",{className:"w-4 h-4 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",children:[Object(o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),Object(o.jsx)("span",{className:t?"invisible":"",children:"Create Entry"})]})})})})}})}function p(e){var t=e.entry,n=Object(u.useState)(!1),s=n[0],c=n[1];function l(){return(l=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.database(),e.next=3,n.ref("work-journal-entries/".concat(t.id)).set(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){confirm("Delete this entry?")&&r.database().ref("work-journal-entries/".concat(t.id)).remove()}return s?Object(o.jsx)(g,{initialValues:t,onSubmit:function(e){return l.apply(this,arguments)},children:function(e){var t=e.isSubmitting,n=e.dirty;return Object(o.jsx)("div",{className:"pt-5",children:Object(o.jsxs)("div",{className:"flex",children:[Object(o.jsx)("span",{className:"inline-flex rounded-md shadow-sm",children:Object(o.jsx)("button",{onClick:function(){return c(!1)},type:"button",className:"px-4 py-2 text-sm font-medium leading-5 text-gray-700 transition duration-150 ease-in-out border border-gray-300 rounded-md hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800",children:"Close"})}),Object(o.jsx)("span",{className:"inline-flex ml-2 mr-auto rounded-md shadow-sm",children:Object(o.jsx)("button",{onClick:d,type:"button",className:"px-4 py-2 text-sm font-medium leading-5 text-gray-700 transition duration-150 ease-in-out border border-gray-300 rounded-md hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800",children:"Delete..."})}),Object(o.jsx)("span",{className:"inline-flex rounded-md shadow-sm",children:Object(o.jsxs)("button",{type:"submit",disabled:!n,className:"".concat(n?"":"pointer-events-none opacity-50"," hinline-flex justify-center px-4 py-2 text-sm font-medium leading-5 text-white transition duration-150 ease-in-out bg-green-500 border border-transparent rounded-md hover:bg-green-400 focus:outline-none focus:border-green-600 focus:shadow-outline-green active:bg-green-600 flex items-center relative"),children:[Object(o.jsx)("span",{className:"".concat(t?"":"invisible"," absolute inset-0 flex items-center justify-center"),children:Object(o.jsxs)("svg",{className:"w-4 h-4 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",children:[Object(o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),Object(o.jsx)("span",{className:t?"invisible":"",children:"Update"})]})})]})})}}):Object(o.jsx)("button",{onClick:function(){return c(!0)},className:"text-left focus:outline-none",children:t.text})}function g(e){var t=e.initialValues,n=e.onSubmit,r=e.children,s=t.id||"new";return Object(o.jsx)(b.c,{initialValues:t,onSubmit:n,children:function(e){var t=e.isSubmitting,n=e.dirty;return Object(o.jsxs)(b.b,{children:[Object(o.jsx)("div",{className:"grid grid-cols-1 row-gap-6 col-gap-4 mt-6 sm:grid-cols-6",children:Object(o.jsxs)("div",{className:"sm:col-span-3",children:[Object(o.jsx)("label",{htmlFor:"entry".concat(s,"-date"),className:"block text-sm font-medium leading-5 text-gray-700",children:"Date"}),Object(o.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(o.jsx)(b.a,{id:"entry".concat(s,"-date"),name:"date",type:"text",className:"block w-full transition duration-150 ease-in-out form-input sm:text-sm sm:leading-5"})})]})}),Object(o.jsxs)("fieldset",{className:"mt-8",children:[Object(o.jsx)("legend",{className:"text-sm font-medium leading-5 text-gray-700",children:"Category"}),Object(o.jsxs)("div",{className:"flex items-center mt-2",children:[Object(o.jsxs)("div",{className:"flex items-center",children:[Object(o.jsx)(b.a,{id:"entry".concat(s,"-work"),name:"category",type:"radio",value:"work",className:"w-4 h-4 text-blue-600 transition duration-150 ease-in-out form-radio"}),Object(o.jsx)("label",{htmlFor:"entry".concat(s,"-work"),className:"ml-3",children:Object(o.jsx)("span",{className:"block text-sm font-medium leading-5 ",children:"Work"})})]}),Object(o.jsxs)("div",{className:"flex items-center ml-6",children:[Object(o.jsx)(b.a,{id:"entry".concat(s,"-learning"),name:"category",type:"radio",value:"learning",className:"w-4 h-4 text-blue-600 transition duration-150 ease-in-out form-radio"}),Object(o.jsx)("label",{htmlFor:"entry".concat(s,"-learning"),className:"ml-3",children:Object(o.jsx)("span",{className:"block text-sm font-medium leading-5 ",children:"Learning"})})]}),Object(o.jsxs)("div",{className:"flex items-center ml-6",children:[Object(o.jsx)(b.a,{id:"entry".concat(s,"-interesting-thing"),name:"category",type:"radio",value:"interesting-thing",className:"w-4 h-4 text-blue-600 transition duration-150 ease-in-out form-radio"}),Object(o.jsx)("label",{htmlFor:"entry".concat(s,"-interesting-thing"),className:"ml-3",children:Object(o.jsx)("span",{className:"block text-sm font-medium leading-5 ",children:"Interesting thing"})})]})]})]}),Object(o.jsxs)("div",{className:"mt-8 sm:col-span-6",children:[Object(o.jsx)("label",{htmlFor:"entry".concat(s,"-text"),className:"block text-sm font-medium leading-5 text-gray-700",children:"Text"}),Object(o.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(o.jsx)(b.a,{as:"textarea",id:"entry".concat(s,"-text"),type:"text",name:"text",rows:"3",className:"block w-full transition duration-150 ease-in-out form-textarea sm:text-sm sm:leading-5"})})]}),Object(o.jsx)("div",{className:"grid grid-cols-1 row-gap-6 col-gap-4 mt-6 sm:grid-cols-6",children:Object(o.jsxs)("div",{className:"sm:col-span-6",children:[Object(o.jsx)("label",{htmlFor:"entry".concat(s,"-href"),className:"block text-sm font-medium leading-5 text-gray-700",children:"Link"}),Object(o.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(o.jsx)(b.a,{id:"entry".concat(s,"-href"),placeholder:"http://some-url.com",name:"href",className:"block w-full transition duration-150 ease-in-out form-input sm:text-sm sm:leading-5"})})]})}),r({isSubmitting:t,dirty:n})]})}})}},Zs65:function(e,t,n){"use strict";n("6Uf2")}},[["2tu/",0,2,9,10,1,3,4,5,7,8]]]);